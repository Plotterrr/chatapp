<head>
    <link rel="stylesheet" type="text/css" href="css/chatroom.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/chatroom.js"></script>

</head>
<body>
<!-- Button trigger modal -->

<!-- Modal Edit -->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit Message</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                <span id="msgEditIdSpan"></span>
            </div>
            <div class="modal-body">
                <input type="text" id="editInput"/>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id = "edit-btn" onclick="messageEditGo()" data-bs-dismiss="modal">Submit</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal profile -->
<div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="profile-title">PROFILE</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container-sm">
                    <h1>Profile Information</h1>
                    </br>
                    <form class="row g-3">
                        <div class="col-md-6">
                            <label for="username" class="form-label">Username</label>
                            <p id="username">Jack<p>
                        </div>
                        <div class="col-md-6">
                            <label for="age" class="form-label">Age</label>
                            <p id="age">99</p>
                        </div>
                        <div class="col-md-12">
                            <label for="email" class="form-label">Email</label>
                            <p id="email">Amy@gmail.com</p>
                        </div>

                        <div class="col-md-6">
                            <label for="school" class="form-label">School</label>
                            <p id="school">Duke</p>
                        </div>
                        <div class="col-md-6">
                            <label for="interest1" class="form-label">Interest</label>
                            <p id="interest1">Swimming</p>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Error Notification -->
<div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Notification</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="errorMessageDiv">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal accept invitation -->
<div class="modal fade" id="invitationModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Invite User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="invitationDiv">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Reject</button>
                <button type="button" class="btn btn-primary" id = "accept-btn" onclick="sendEvent('accept')" data-bs-dismiss="modal">Accept</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal report -->
<div class="modal fade" id="reportModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Report User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="reportDiv">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Reject</button>
                <button type="button" class="btn btn-primary" id = "acceptReport-btn" onclick="sendEvent('acceptReport')" data-bs-dismiss="modal">Accept</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Create Room -->
<div class="modal fade" id="createRoomModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Create Room</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="radio" id="private" name="publicOrPrivate" value="private">
                <label for="private">private</label>
                <input type="radio" id="public" name="publicOrPrivate" value="public">
                <label for="public">public</label>
                <input type="number" class="form-control" id="capacity" placeholder="Room Capacity" value="1">
                <input type="text" class="form-control" id="interest" placeholder="Interest" value="No special interest">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id = "create-btn" onclick="sendEvent('createRoom')" data-bs-dismiss="modal">Create</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal Join Room -->
<div class="modal fade" id="joinRoomModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Select Room</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="joinRoomDiv">
                <ul>

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Close</button>
                <button type="button" class="btn btn-primary" id = "join-btn" onclick="sendEvent('joinRoom')" data-bs-dismiss="modal">Join</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Switch Room -->
<div class="modal fade" id="switchRoomModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Select Room</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="switchRoomDiv">
                <ul>

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Close</button>
                <button type="button" class="btn btn-primary" id = "switch-btn" onclick="sendEvent('switchRoom')" data-bs-dismiss="modal">Switch</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Ban User -->
<div class="modal fade" id="banUserModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Ban User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="banUserDiv">
                <ul id="banUserList" class="banUserList">

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Close</button>
                <button type="button" class="btn btn-primary" id = "ban-btn" onclick="sendEvent('banUser')" data-bs-dismiss="modal">Ban</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Report User -->
<div class="modal fade" id="reportUserModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Report User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="reportUserDiv">
                <ul id="reportUserList" class="reportUserList">

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Close</button>
                <button type="button" class="btn btn-primary" id = "report-btn" onclick="sendEvent('reportUser')" data-bs-dismiss="modal">Report</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Invite User -->
<div class="modal fade" id="inviteUserModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Invite People</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="inviteUserDiv">
                <ul>

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Close</button>
                <button type="button" class="btn btn-primary" id = "invite-btn" onclick="sendEvent('invite')" data-bs-dismiss="modal">Invite</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Private Message -->
<div class="modal fade" id="privateMessageModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" >Send privately to User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeScreen()"></button>
            </div>
            <div class="modal-body" id="privateUserListDiv">
                <ul id="privateUserList" class="banUserList">

                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="closeScreen()">Close</button>
                <button type="button" class="btn btn-primary" id = "private-btn" onclick="sendEvent('sendPrivateMsg')" data-bs-dismiss="modal">Send</button>
            </div>
        </div>
    </div>
</div>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Chatroom-K</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="modal" data-bs-target="#profileModal" onclick="sendEvent('getProfile')">profile</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="index.html" onclick="sendEvent('signout')">signout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div id = "screen1">
    <div class="container">
        <div class="row clearfix">
            <div class="col-lg-12">
                <div class="card chat-app">
                    <div id="plist" class="people-list">
                        <div id="btn-ctn">
                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#createRoomModal" >Create Room</button>
                        </br>
                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#joinRoomModal" onclick="sendEvent('joinRoomList')">Join Room</button>
                        </br>
                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#switchRoomModal" onclick="sendEvent('switchRoomList')">Switch Room</button>
                        </br>
                            <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                                <button id="chatRoomBanBtn" type="button" class="btn btn-danger" data-bs-toggle="modal" onclick="sendEvent('banUserList')" data-bs-target="#banUserModal">Ban</button>
                                <button id="chatRoomReportBtn" type="button" class="btn btn-warning" data-bs-toggle="modal" onclick="sendEvent('reportUserList')" data-bs-target="#reportUserModal">Report</button>
                                <button id="chatRoomInviteBtn" type="button" class="btn btn-success" data-bs-toggle="modal" onclick="sendEvent('inviteUserList')" data-bs-target="#inviteUserModal">Invite</button>
                            </div>
                        </div>

                        </br>
                        </br>
                        <p>People in Room</p>


                    </div>

                    <div class="chat">
                        <div class="chat-header clearfix">
                            <div class="row">
                                <div class="roomtitle-ctn">
                                    <div class="chat-about">
                                        <h6 class="m-b-0" id="currentRoom"></h6>
                                        <small>Last seen: 2 hours ago</small>
                                    </div>
                                    <button class="btn btn-danger btn-sm" onclick="sendEvent('quitRoom')">Quit Room</button>
                                </div>

                            </div>
                        </div>
                        <div class="chat-history" id="currentRoomChatBox">
                            <ul class="m-b-0" >
                               <!--- <li class="clearfix">
                                    <div class="message-data text-right notification">
                                        <span >Aiden Chavez Joined the room</span>
                                    </div>

                                    <div class="message other-message float-right" id = "msg-1"> Hi Aiden, how are you? How is the project coming along?
                                        <div>
                                            <a onclick={}><i class="bi bi-arrow-90deg-left"></i></a>
                                            <a data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="bi bi-pencil"></i></a>
                                        </div>
                                    </div>
                                </li>
                                <li class="clearfix">
                                    <div class="message-data">
                                        <span class="message-data-time">10:12 AM, Today</span>
                                    </div>
                                    <div class="message my-message">Are we meeting today?</div>
                                </li>
                                <li class="clearfix">
                                    <div class="message-data">
                                        <span class="message-data-time">10:15 AM, Today</span>
                                    </div>
                                    <div class="message my-message">Project has been already finished and I have results to show you.</div>
                                </li>  --->
                            </ul>
                        </div>


                        <div class="chat-message clearfix">
                            <div id="userInRoomListDiv">
                                <label for="usersInRoom" id="userInRoomLabel" >Send to:</label>
                                <select name="userInRoom" id="usersInRoom" style="margin-left: 0.5em;">
                                    <option value="public" selected>Public</option>
                                </select>
                            </div>
                            <div class="input-group mb-0">
                                <button class="btn btn-outline-secondary" id = "emojiBtn" type="button" data-bs-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Emoji</button>
                                <input type="text" class="form-control"  id="inputMsg" placeholder="Type your text" aria-label="Recipient's username with two button addons"/>
                                <button class="btn btn-outline-secondary" id="publicMsgSendBtn" type="button" onclick="sendEvent('sendMsg')">Send</button>
                            </div>
                            <div class="col-6">
                                <div class="collapse multi-collapse" id="multiCollapseExample1">
                                    <div class="card card-body">
                                        <div class="container">
                                            <div class="row row-cols-4">
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128512;</p></div>
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128516;</p></div>
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128525;</p></div>
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128151;</p></div>
                                            </div>
                                            <div class="row row-cols-4">
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128514;</p></div>
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128517;</p></div>
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128528;</p></div>
                                                <div class="col"><p class="emoji" onclick="addEmoji(this.innerHTML)">&#128153;</p></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
